(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{119:function(e,t,o){"use strict";o.r(t),o.d(t,"frontMatter",(function(){return i})),o.d(t,"metadata",(function(){return c})),o.d(t,"rightToc",(function(){return l})),o.d(t,"default",(function(){return p}));var a=o(3),n=o(7),r=(o(0),o(128)),i={id:"deploy-vscode",title:"Start a VSCode server"},c={unversionedId:"deploy-vscode",id:"deploy-vscode",isDocsHomePage:!1,title:"Start a VSCode server",description:"Start VSCode with root privileges",source:"@site/docs/deploy-vscode.md",slug:"/deploy-vscode",permalink:"/dsri-documentation/docs/deploy-vscode",editUrl:"https://github.com/MaastrichtU-IDS/dsri-documentation/edit/master/docs/docs/deploy-vscode.md",version:"current",lastUpdatedBy:"Vincent Emonet",lastUpdatedAt:1607036214,sidebar:"docs",previous:{title:"Start RStudio",permalink:"/dsri-documentation/docs/deploy-rstudio"},next:{title:"Start databases",permalink:"/dsri-documentation/docs/deploy-database"}},l=[{value:"Start VSCode with root privileges",id:"start-vscode-with-root-privileges",children:[]},{value:"Start VSCode with restricted user",id:"start-vscode-with-restricted-user",children:[]},{value:"Use Git in VSCode",id:"use-git-in-vscode",children:[]},{value:"Upload data to VSCode",id:"upload-data-to-vscode",children:[]},{value:"Stop or delete VSCode",id:"stop-or-delete-vscode",children:[]},{value:"VSCode for GPU",id:"vscode-for-gpu",children:[]}],s={rightToc:l};function p(e){var t=e.components,o=Object(n.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},s,o,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"start-vscode-with-root-privileges"},"Start VSCode with root privileges"),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"\ud83d\udd12 You need root containers enabled (aka. anyuid) in your project to start this application.")),Object(r.b)("p",null,"Those templates will run VSCode with the ",Object(r.b)("inlineCode",{parentName:"p"},"coder")," user which has ",Object(r.b)("inlineCode",{parentName:"p"},"sudo")," privileges."),Object(r.b)("p",null,"Create the templates in your project catalog:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"oc apply -f https://raw.githubusercontent.com/MaastrichtU-IDS/dsri-openshift-applications/main/templates-anyuid/template-vscode-root-persistent.yml\n")),Object(r.b)("p",null,"You can deploy it using the ",Object(r.b)("strong",{parentName:"p"},"VisualStudio Code with root user")," solutions in the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://app.dsri.unimaas.nl:8443/console/catalog"}),"Catalog web UI"),":"),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"This application uses an existing Persistent Volume Claim (PVC) for a persistent storage of the data.")),Object(r.b)("h2",{id:"start-vscode-with-restricted-user"},"Start VSCode with restricted user"),Object(r.b)("p",null,"Use the ",Object(r.b)("strong",{parentName:"p"},"VisualStudio Code in the browser (Dynamic)")," template to start a simple pod on a CPU node with a VisualStudio Code server. You will be able to access the application via an URL generated by the DSRI."),Object(r.b)("p",null,"Packages installed:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Python3.7"),Object(r.b)("li",{parentName:"ul"},"Java 11"),Object(r.b)("li",{parentName:"ul"},"NodeJS and NPM")),Object(r.b)("p",null,"Create the template in your project catalog:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"oc apply -f https://raw.githubusercontent.com/MaastrichtU-IDS/dsri-openshift-applications/main/templates-restricted/template-vscode-dynamic.yml\n")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("strong",{parentName:"p"},"You will not be root user"),"\u26a0\ufe0f you will be able to install new ",Object(r.b)("inlineCode",{parentName:"p"},"pip")," packages, but you will not have ",Object(r.b)("inlineCode",{parentName:"p"},"sudo")," privileges (so no installation of ",Object(r.b)("inlineCode",{parentName:"p"},"apt")," or ",Object(r.b)("inlineCode",{parentName:"p"},"yum")," packages)")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"We recommend to ",Object(r.b)("strong",{parentName:"p"},"use Chrome")," as pasting in the terminal (",Object(r.b)("inlineCode",{parentName:"p"},"ctrl + shift + v"),") won't work on Firefox")),Object(r.b)("h2",{id:"use-git-in-vscode"},"Use Git in VSCode"),Object(r.b)("p",null,"You will need to use ",Object(r.b)("inlineCode",{parentName:"p"},"git")," from the terminal to clone the git repository, for example:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"git clone https://github.com/MaastrichtU-IDS/dsri-openshift-applications.git\n")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"VisualStudio will prompt a window to give permission to GitHub in a web page if the repository is private, ",Object(r.b)("strong",{parentName:"p"},"this option does not work"),", you need to cancel this window and VSCode will ask your for username and password!")),Object(r.b)("p",null,"Then you can use git from the VSCode web UI to manage your ",Object(r.b)("inlineCode",{parentName:"p"},"git")," repositories (add, commit, push changes)."),Object(r.b)("p",null,"You can run this command to ask git to save your password for 15min:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"git config credential.helper cache\n")),Object(r.b)("p",null,"Or store the password in a plain text file:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"git config --global credential.helper 'store --file ~/.git-credentials'\n")),Object(r.b)("p",null,"Before pushing back to GitHub or GitLab, you will need to ",Object(r.b)("strong",{parentName:"p"},"configure you username and email")," in VSCode terminal:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),'git config --global user.name "Jean Dupont"\ngit config --global user.email jeandupont@gmail.com\n')),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"We recommend to use SSH instead of HTTPS connection when possible, checkout ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent"}),"here")," how to generate SSH keys and use them with your GitHub account.")),Object(r.b)("h2",{id:"upload-data-to-vscode"},"Upload data to VSCode"),Object(r.b)("p",null,"See the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/dsri-documentation/docs/openshift-load-data"}),"guide to upload data on the DSRI"),"."),Object(r.b)("h2",{id:"stop-or-delete-vscode"},"Stop or delete VSCode"),Object(r.b)("p",null,"See the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/dsri-documentation/docs/openshift-delete-services"}),"documentation to stop and delete services"),"."),Object(r.b)("h2",{id:"vscode-for-gpu"},"VSCode for GPU"),Object(r.b)("p",null,"See the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/dsri-documentation/docs/deploy-on-gpu"}),"Deploy on GPU")," page to deploy a VisualStudio Code server on GPU."))}p.isMDXComponent=!0},128:function(e,t,o){"use strict";o.d(t,"a",(function(){return d})),o.d(t,"b",(function(){return m}));var a=o(0),n=o.n(a);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,a)}return o}function c(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,a,n=function(e,t){if(null==e)return{};var o,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)o=r[a],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var s=n.a.createContext({}),p=function(e){var t=n.a.useContext(s),o=t;return e&&(o="function"==typeof e?e(t):c(c({},t),e)),o},d=function(e){var t=p(e.components);return n.a.createElement(s.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},u=n.a.forwardRef((function(e,t){var o=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=p(o),u=a,m=d["".concat(i,".").concat(u)]||d[u]||b[u]||r;return o?n.a.createElement(m,c(c({ref:t},s),{},{components:o})):n.a.createElement(m,c({ref:t},s))}));function m(e,t){var o=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=o.length,i=new Array(r);i[0]=u;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var s=2;s<r;s++)i[s]=o[s];return n.a.createElement.apply(null,i)}return n.a.createElement.apply(null,o)}u.displayName="MDXCreateElement"}}]);