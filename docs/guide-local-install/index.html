<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Data Science Research Infrastructure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Data Science Research Infrastructure Atom Feed">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:200,300,400,400i,500,600,700">
<link rel="stylesheet" href="/css/code-blocks-buttons.css">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script src="/js/code-blocks-buttons.js"></script><title data-rh="true">Install local OpenShift | Data Science Research Infrastructure</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://dsri.maastrichtuniversity.nl//img/undraw_online.svg"><meta data-rh="true" name="twitter:image" content="https://dsri.maastrichtuniversity.nl//img/undraw_online.svg"><meta data-rh="true" property="og:url" content="https://dsri.maastrichtuniversity.nl//docs/guide-local-install"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Install local OpenShift | Data Science Research Infrastructure"><meta data-rh="true" name="description" content="OpenShift and Kubernetes can be installed locally on a single machine for test purpose. The installation requires knowledge of your OS administration, and can be quite complex. We recommend to install it locally only if really required. Otherwise we recommend you to simply use Docker to test images, then deploy them on the DSRI."><meta data-rh="true" property="og:description" content="OpenShift and Kubernetes can be installed locally on a single machine for test purpose. The installation requires knowledge of your OS administration, and can be quite complex. We recommend to install it locally only if really required. Otherwise we recommend you to simply use Docker to test images, then deploy them on the DSRI."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://dsri.maastrichtuniversity.nl//docs/guide-local-install"><link data-rh="true" rel="alternate" href="https://dsri.maastrichtuniversity.nl//docs/guide-local-install" hreflang="en"><link data-rh="true" rel="alternate" href="https://dsri.maastrichtuniversity.nl//docs/guide-local-install" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8553affc.css">
<link rel="preload" href="/assets/js/runtime~main.b3b8e531.js" as="script">
<link rel="preload" href="/assets/js/main.68c9968d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><div class="announcementBar_IbjG" role="banner"><div class="announcementBarPlaceholder_NC_W"></div><div class="announcementBarContent_KsVm">ðŸ”¨ Maintenance will be performed on the DSRI from the 22 to the 30 of October, please make sure your data is backed up outside the DSRI before this date ðŸ”¨</div><button type="button" class="clean-btn close announcementBarClose_FG1z" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.ico" alt="Data Science Research Infrastructure" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/favicon.ico" alt="Data Science Research Infrastructure" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Data Science Research Infrastructure</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a><a class="navbar__item navbar__link" href="/training">Training</a><a class="navbar__item navbar__link" href="/help">Help</a><a class="navbar__item navbar__link" href="/gpu-booking">GPU calendar</a><a class="navbar__item navbar__link" href="/acknowledgement">Acknowledgement</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/MaastrichtU-IDS/dsri-documentation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><main class="docMainContainer_TCnq docMainContainerEnhanced_WDCb"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Install local OpenShift</h1></header><p>OpenShift and Kubernetes can be installed locally on a single machine for test purpose. The installation requires knowledge of your OS administration, and can be quite complex. We recommend to install it locally only if really required. Otherwise we recommend you to simply use Docker to test images, then deploy them on the DSRI.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="install-minishift">Install MiniShift<a class="hash-link" href="#install-minishift" title="Direct link to heading">â€‹</a></h2><p><a href="https://docs.okd.io/latest/minishift/getting-started/installing.html" target="_blank" rel="noopener noreferrer"></a></p><p>You will need to <a href="https://docs.okd.io/latest/minishift/getting-started/setting-up-virtualization-environment.html" target="_blank" rel="noopener noreferrer">set up the virtualization environment</a> before <a href="https://docs.okd.io/latest/minishift/getting-started/installing.html" target="_blank" rel="noopener noreferrer">installing MiniShift</a>.</p><p>Download <a href="https://github.com/minishift/minishift/releases" target="_blank" rel="noopener noreferrer">MiniShift</a> and unzip it.</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># For Ubuntu 18.04 and older</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -y libvirt-bin qemu-kvm</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># For Ubuntu 18.10 and newer (replace libvirtd by libvirt in next commands)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -y qemu-kvm libvirt-daemon libvirt-daemon-system</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Create group if does not exist</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> addgroup libvirtd</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> adduser </span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable function" style="color:rgb(130, 170, 255)">whoami</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"> libvirtd</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">usermod</span><span class="token plain"> -a -G libvirtd </span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable function" style="color:rgb(130, 170, 255)">whoami</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">newgrp libvirtd</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">curl</span><span class="token plain"> -L https://github.com/dhiltgen/docker-machine-kvm/releases/download/v0.10.0/docker-machine-driver-kvm-ubuntu16.04 -o /usr/local/bin/docker-machine-driver-kvm</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chmod</span><span class="token plain"> +x /usr/local/bin/docker-machine-driver-kvm</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Check if libvirtd running</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">systemctl is-active libvirtd</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Start if inactive</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl start libvirtd</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Copy MiniShift in your path</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> minishift-1.34.1-linux-amd64/minishift /usr/local/bin</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="start-minishift">Start MiniShift<a class="hash-link" href="#start-minishift" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">minishift start</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><blockquote><p>Get your local OpenShift cluster URL after the command complete.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="login">Login<a class="hash-link" href="#login" title="Direct link to heading">â€‹</a></h3><p>Go to your local cluster URL.</p><blockquote><p>E.g. <a href="https://192.168.42.58:8443/console/catalog" target="_blank" rel="noopener noreferrer">https://192.168.42.58:8443/console/catalog</a>.</p></blockquote><blockquote><p>Username: <code>admin</code> or <code>developer</code></p><p>Password: anything will work</p></blockquote><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># As admin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">oc login -u system:admin</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="stop">Stop<a class="hash-link" href="#stop" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">minishift stop</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="reset">Reset<a class="hash-link" href="#reset" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">minishift delete -f</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="install-kubectl">Install kubectl<a class="hash-link" href="#install-kubectl" title="Direct link to heading">â€‹</a></h2><p><a href="https://kubernetes.io/" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Kubernetes" src="/assets/images/Kubernetes-c5f36b415dd16a8fcdae01fbc8d9c940.png" width="209" height="203"></a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="kubectl-on-ubuntu">kubectl on Ubuntu<a class="hash-link" href="#kubectl-on-ubuntu" title="Direct link to heading">â€‹</a></h3><p>For more details: read the official <a href="https://tutorials.ubuntu.com/tutorial/install-a-local-kubernetes-with-microk8s#0" target="_blank" rel="noopener noreferrer">install Kubernetes on Ubuntu tutorial</a> or see the official <a href="https://ubuntu.com/kubernetes/install" target="_blank" rel="noopener noreferrer">Ubuntu Kubernetes install documentation</a>.</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> snap </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> microk8s --classic</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">usermod</span><span class="token plain"> -a -G microk8s </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$USER</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Restart your machine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> -p ~/.kube</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">microk8s.kubectl config view --raw </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token environment constant" style="color:rgb(130, 170, 255)">$HOME</span><span class="token plain">/.kube/config</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Make sure this works for dashboard on Ubuntu</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">microk8s.enable dashboard dns</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><blockquote><p>To do only if kubectl is not already installed on your machine:</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> snap </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">alias</span><span class="token plain"> microk8s.kubectl kubectl</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="kubectl-on-macos--windows">kubectl on MacOS &amp; Windows<a class="hash-link" href="#kubectl-on-macos--windows" title="Direct link to heading">â€‹</a></h3><p>Included in Docker installation. Use the installer provided by DockerHub.</p><blockquote><p>Activate it in Docker Preferences &gt; Kubernetes.</p></blockquote><p>For Windows you will need to download the <code>kubectl.exe</code> and place it in your PATH.</p><ul><li><a href="https://storage.googleapis.com/kubernetes-release/release/v1.17.0/bin/windows/amd64/kubectl.exe" target="_blank" rel="noopener noreferrer">https://storage.googleapis.com/kubernetes-release/release/v1.17.0/bin/windows/amd64/kubectl.exe</a></li></ul><p>We recommend to create a <code>kubectl</code> directory in <code>C:/</code> and add this <code>C:/kubectl</code> to the Path environment variable in System properties &gt; Advanced &gt; Environment Variables &gt; Path</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="install-the-dashboard-ui">Install the Dashboard UI<a class="hash-link" href="#install-the-dashboard-ui" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Install Kubernetes UI</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.0.0-beta4/aio/deploy/recommended.yaml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl apply -f https://raw.githubusercontent.com/MaastrichtU-IDS/d2s-core/master/argo/roles/kube-dashboard-adminuser-sa.yml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl apply -f https://raw.githubusercontent.com/MaastrichtU-IDS/d2s-core/master/argo/roles/kube-adminuser-rolebinding.yml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Get the Token to access the dashboard</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl -n kube-system describe secret </span><span class="token variable" style="color:rgb(191, 199, 213)">$(</span><span class="token variable" style="color:rgb(191, 199, 213)">kubectl -n kube-system get secret </span><span class="token variable operator" style="color:rgb(137, 221, 255)">|</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable function" style="color:rgb(130, 170, 255)">grep</span><span class="token variable" style="color:rgb(191, 199, 213)"> admin-user </span><span class="token variable operator" style="color:rgb(137, 221, 255)">|</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable function" style="color:rgb(130, 170, 255)">awk</span><span class="token variable" style="color:rgb(191, 199, 213)"> </span><span class="token variable string" style="color:rgb(195, 232, 141)">&#x27;{print $1}&#x27;</span><span class="token variable" style="color:rgb(191, 199, 213)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Windows user will need to execute the 2 commands manually:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl -n kube-system get secret </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># And get the token containing &#x27;admin-user&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl -n kube-system describe secret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># For Windows: give the anonymous user global access</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create clusterrolebinding cluster-system-anonymous --clusterrole</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">admin --user</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">system:anonymous</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Note: this could be improved. I think only the Dashboard UI didn&#x27;t have the required permissions.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Finally, start the web UI, and chose the Token connection</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl proxy</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><blockquote><p>Then visit: http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/</p><p>And provide the previously obtained token.</p></blockquote><p><strong>Warning:</strong> you will need to save the token to login again next time (use the password save from your browser if possible).</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="run-kubectl">Run kubectl<a class="hash-link" href="#run-kubectl" title="Direct link to heading">â€‹</a></h3><p><code>kubectl</code> should be running at start.</p><p>Just restart the web UI</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl proxy</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><blockquote><p>Then visit: http://localhost:8001/api/v1/namespaces/kubernetes-dashboard/services/https:kubernetes-dashboard:/proxy/</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="enable-internet">Enable internet<a class="hash-link" href="#enable-internet" title="Direct link to heading">â€‹</a></h3><p><a href="https://kubernetes.io/docs/tasks/administer-cluster/dns-debugging-resolution/" target="_blank" rel="noopener noreferrer">Debug DNS on Ubuntu</a></p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">microk8s.enable dns</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><blockquote><p>Restart your machine.</p></blockquote><p>You might need to change your firewall configuration</p><ul><li>On Ubuntu</li></ul><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> ufw allow </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> on cni0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> ufw allow out on cni0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> ufw default allow routed</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>Try to connect to the internet from Kubernetes with the <a href="https://github.com/MaastrichtU-IDS/d2s-core/blob/master/argo/tests/test-busybox.yaml" target="_blank" rel="noopener noreferrer">test-busybox pod</a>.</li></ul><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">exec</span><span class="token plain"> -ti busybox -- /bin/sh</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">ping</span><span class="token plain"> google.com</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="create-persistent-volume">Create persistent volume<a class="hash-link" href="#create-persistent-volume" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Create volume</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl apply -n argo -f d2s-core/argo/storage/storage-mac.yaml</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><blockquote><p>Not working at the moment.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="uninstall">Uninstall<a class="hash-link" href="#uninstall" title="Direct link to heading">â€‹</a></h3><p>Clean uninstall before 2.2.</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl get cm workflow-controller-configmap -o yaml -n kube-system --export </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> kubectl apply -n argo -f -</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl delete -n kube-system cm workflow-controller-configmap</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl delete -n kube-system deploy workflow-controller argo-ui</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl delete -n kube-system sa argo argo-ui</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl delete -n kube-system svc argo-ui</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><hr><h2 class="anchor anchorWithStickyNavbar_mojV" id="install-argo-workflows">Install Argo workflows<a class="hash-link" href="#install-argo-workflows" title="Direct link to heading">â€‹</a></h2><p><a href="https://argoproj.github.io/argo/" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Argo project" src="/assets/images/argo-logo-c091bfee39aec37120d0e879edac74f6.png" width="300" height="137"></a></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="install-on-your-local-kubernetes">Install on your local Kubernetes<a class="hash-link" href="#install-on-your-local-kubernetes" title="Direct link to heading">â€‹</a></h3><p>Argo workflows will be installed on the <code>argo</code> namespace. See the <a href="https://argoproj.github.io/docs/argo/demo.html#2-install-the-controller-and-ui" target="_blank" rel="noopener noreferrer">official Argo documentation</a> for more details.</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create ns argo</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl apply -n argo -f https://raw.githubusercontent.com/argoproj/argo/v2.4.2/manifests/install.yaml</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Configure service account to run workflow</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create rolebinding default-admin --clusterrole</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">admin --serviceaccount</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">default:default</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Test run</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">argo submit --watch https://raw.githubusercontent.com/argoproj/argo/master/examples/hello-world.yaml</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><blockquote><p>See <a href="https://raw.githubusercontent.com/vemonet/argo/master/manifests/namespace-install.yaml" target="_blank" rel="noopener noreferrer">custom configuration</a> for namespace install.</p><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl apply -n argo -f https://raw.githubusercontent.com/vemonet/argo/master/manifests/namespace-install.yaml</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="install-the-client">Install the client<a class="hash-link" href="#install-the-client" title="Direct link to heading">â€‹</a></h3><p>See the <a href="/docs/workflows-argo">Argo workflows documentation</a>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="expose-the-ui">Expose the UI<a class="hash-link" href="#expose-the-ui" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-shell theme-code-block"><div class="codeBlockContent_wNvx shell"><pre tabindex="0" class="prism-code language-shell codeBlock_jd64 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl -n argo port-forward deployment/argo-ui </span><span class="token number" style="color:rgb(247, 140, 108)">8002</span><span class="token plain">:8001</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><blockquote><p>Access on http://localhost:8002.</p></blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/MaastrichtU-IDS/dsri-documentation/edit/master/website/docs/guide-local-install.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-09-22T08:24:59.000Z">9/22/2022</time></b> by <b>Vincent Emonet</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#install-minishift" class="table-of-contents__link toc-highlight">Install MiniShift</a><ul><li><a href="#start-minishift" class="table-of-contents__link toc-highlight">Start MiniShift</a></li><li><a href="#login" class="table-of-contents__link toc-highlight">Login</a></li><li><a href="#stop" class="table-of-contents__link toc-highlight">Stop</a></li><li><a href="#reset" class="table-of-contents__link toc-highlight">Reset</a></li></ul></li><li><a href="#install-kubectl" class="table-of-contents__link toc-highlight">Install kubectl</a><ul><li><a href="#kubectl-on-ubuntu" class="table-of-contents__link toc-highlight">kubectl on Ubuntu</a></li><li><a href="#kubectl-on-macos--windows" class="table-of-contents__link toc-highlight">kubectl on MacOS &amp; Windows</a></li><li><a href="#install-the-dashboard-ui" class="table-of-contents__link toc-highlight">Install the Dashboard UI</a></li><li><a href="#run-kubectl" class="table-of-contents__link toc-highlight">Run kubectl</a></li><li><a href="#enable-internet" class="table-of-contents__link toc-highlight">Enable internet</a></li><li><a href="#create-persistent-volume" class="table-of-contents__link toc-highlight">Create persistent volume</a></li><li><a href="#uninstall" class="table-of-contents__link toc-highlight">Uninstall</a></li></ul></li><li><a href="#install-argo-workflows" class="table-of-contents__link toc-highlight">Install Argo workflows</a><ul><li><a href="#install-on-your-local-kubernetes" class="table-of-contents__link toc-highlight">Install on your local Kubernetes</a></li><li><a href="#install-the-client" class="table-of-contents__link toc-highlight">Install the client</a></li><li><a href="#expose-the-ui" class="table-of-contents__link toc-highlight">Expose the UI</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div><a href="https://creativecommons.org/licenses/by/4.0/" title="Creative Commons Attribution 4.0 International license" target="_blank" rel="noopener noreferrer"><img src="/img/cc-by.svg" alt="cc by license"></a></div><div style="margin-bottom:10px">Copyright Â© 2022 <a href="https://maastrichtuniversity.nl/ids" target="_blank" rel="noopener noreferrer">Institute of Data Science</a> at Maastricht University</div></div></div></footer></div>
<script src="/assets/js/runtime~main.b3b8e531.js"></script>
<script src="/assets/js/main.68c9968d.js"></script>
</body>
</html>