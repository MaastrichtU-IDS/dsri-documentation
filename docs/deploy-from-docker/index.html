<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.69">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:200,300,400,400i,500,600,700">
<link rel="stylesheet" href="/css/code-blocks-buttons.css">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script src="/js/code-blocks-buttons.js"></script><title data-react-helmet="true">Deploy from a Docker image | Data Science Research Infrastructure</title><meta data-react-helmet="true" property="og:image" content="https://dsri.maastrichtuniversity.nl//img/undraw_online.svg"><meta data-react-helmet="true" property="twitter:image" content="https://dsri.maastrichtuniversity.nl//img/undraw_online.svg"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for Data Science Research Infrastructure"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Deploy from a Docker image | Data Science Research Infrastructure"><meta data-react-helmet="true" name="description" content="The DSRI is an OpenShift OKD cluster, based on Kubernetes. It uses Docker containers to deploy services and applications in pods."><meta data-react-helmet="true" property="og:description" content="The DSRI is an OpenShift OKD cluster, based on Kubernetes. It uses Docker containers to deploy services and applications in pods."><meta data-react-helmet="true" property="og:url" content="https://dsri.maastrichtuniversity.nl//docs/deploy-from-docker"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://dsri.maastrichtuniversity.nl//docs/deploy-from-docker"><link rel="stylesheet" href="/styles.7279487c.css">
<link rel="preload" href="/styles.b6d88ca4.js" as="script">
<link rel="preload" href="/runtime~main.0b2d69b0.js" as="script">
<link rel="preload" href="/main.81afd9d9.js" as="script">
<link rel="preload" href="/1.34a072ec.js" as="script">
<link rel="preload" href="/1f391b9e.414a5693.js" as="script">
<link rel="preload" href="/82.183591e3.js" as="script">
<link rel="preload" href="/935f2afb.d77a3dc7.js" as="script">
<link rel="preload" href="/80.4dd148e2.js" as="script">
<link rel="preload" href="/f931684d.2e8b1bed.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/favicon.ico" alt="Data Science Research Infrastructure" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/favicon.ico" alt="Data Science Research Infrastructure" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Data Science Research Infrastructure</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a><a class="navbar__item navbar__link" href="/help">Help</a><a class="navbar__item navbar__link" href="/acknowledgement">Acknowledgement</a><a class="navbar__item navbar__link" href="/contributing">Contribute</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/MaastrichtU-IDS/dsri-documentation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search searchBarContainer_1-U_"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_18Th searchBarLoadingRing_zYFK"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/favicon.ico" alt="Data Science Research Infrastructure" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img src="/img/favicon.ico" alt="Data Science Research Infrastructure" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Data Science Research Infrastructure</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Documentation</a></li><li class="menu__list-item"><a class="menu__link" href="/help">Help</a></li><li class="menu__list-item"><a class="menu__link" href="/acknowledgement">Acknowledgement</a></li><li class="menu__list-item"><a class="menu__link" href="/contributing">Contribute</a></li><li class="menu__list-item"><a href="https://github.com/MaastrichtU-IDS/dsri-documentation" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Get started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/access-dsri">Access the DSRI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/start-workspace">Start your workspace</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openshift-install">Install the client</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openshift-load-data">Upload data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openshift-delete-services">Delete an application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide-monitoring">Monitor your applications</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Deploy applications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/guide-dockerfile-to-openshift">Deploy from a Dockerfile</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/deploy-from-docker">Deploy from a Docker image</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/anatomy-of-an-application">Anatomy of a DSRI application</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/helm">Install from Helm charts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/operators">Install from Operators</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Data Science catalog</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deploy-jupyter">Jupyter Notebooks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deploy-rstudio">RStudio</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deploy-vscode">VisualStudio Code</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deploy-database">Databases</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deploy-matlab">Matlab</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/jupyterhub-spark">JupyterHub with Spark cluster</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deploy-spark">Spark cluster</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mpi-jobs">Run MPI jobs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/neuroscience">Neuroscience research</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/catalog-genomics">Genomics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/catalog-imaging">Imaging softwares</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deploy-on-gpu">GPU applications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/catalog-utilities">Utilities</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/prepare-project-for-dsri">Prepare your project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide-vpn">Install UM VPN</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/access-um-servers">Access UM servers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide-workshop">Prepare a workshop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide-known-issues">Known Issues</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/project-management">Create a new Project</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/login-docker-registry">Login to Docker registries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openshift-commands">Command Line Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openshift-storage">Data storage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide-publish-image">Publish a Docker image</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/openshift-delete-objects">Delete objects (advanced)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tools-machine-learning">Libraries for Machine Learning</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/glossary">Glossary</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Workflows</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workflows-introduction">Introduction to workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workflows-github-actions">Deploy GitHub Runners</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workflows-airflow">Deploy Airflow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workflows-argo">Run Argo workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workflows-nextflow">Run Nextflow workflows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/workflows-cwl">Run CWL workflows</a></li></ul></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_2Tub"></button></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Deploy from a Docker image</h1></header><div class="markdown"><p>The DSRI is an <a href="https://www.okd.io/" target="_blank" rel="noopener noreferrer">OpenShift OKD</a> cluster, based on <a href="https://kubernetes.io/" target="_blank" rel="noopener noreferrer">Kubernetes</a>. It uses <a href="https://www.docker.com" target="_blank" rel="noopener noreferrer">Docker containers</a> to deploy services and applications in <strong>pods</strong>.</p><p>Any service or job can be run in a Docker container. If you want to run a service in Python for example, you will find Docker images for Python. </p><ul><li>You can find already existing images for the service you want to run on DockerHub</li><li>or create a custom Docker image in a few minutes. </li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="find-an-image-for-your-service"></a>Find an image for your service<a class="hash-link" href="#find-an-image-for-your-service" title="Direct link to heading">#</a></h2><p>The easiest way to deploy a service on the DSRI is to use a Docker image from <a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">DockerHub 🐳</a>.</p><p>Search for an image for your service published on <a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">DockerHub</a></p><ul><li><a href="https://www.google.com/search?q=dockerhub+python" target="_blank" rel="noopener noreferrer">Google &quot;dockerhub my_service_name&quot;</a></li><li>Sometimes multiple images can be found for your service. Take the official image when possible, or the one most relevant to your use-case.</li></ul><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Deploy from a Dockerfile</h5></div><div class="admonition-content"><p>If no suitable image can be found on <a href="https://hub.docker.com/" target="_blank" rel="noopener noreferrer">DockerHub</a>, it can be <strong>deployed from a Dockerfile</strong>. See above to do so.</p></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="deploy-the-image-on-dsri"></a>Deploy the image on DSRI<a class="hash-link" href="#deploy-the-image-on-dsri" title="Direct link to heading">#</a></h2><p>Once you have a Docker image for your application you can deploy it using the <a href="https://console-openshift-console.apps.dsri2.unimaas.nl/console/projects" target="_blank" rel="noopener noreferrer">DSRI web UI</a>.</p><p>Go to the <a href="https://console-openshift-console.apps.dsri2.unimaas.nl/console/projects" target="_blank" rel="noopener noreferrer">Overview page</a> of your project.</p><ul><li>Click the <strong>Add to Project</strong> button in top right corner &gt; <strong>Deploy Image</strong></li><li>Select to deploy from <strong>Image Name</strong><ul><li>Provide your image name, e.g. <code>umdsri/freesurfer</code></li><li>Eventually change the <strong>Name</strong>, it needs to be unique by project.</li><li>Click <strong>Deploy</strong>.</li></ul></li></ul><img src="/img/screenshot-deploy_image_from_ui.png" alt="Deploy image from UI" style="max-width:100%;max-height:100%"><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Fix a common problem</h5></div><div class="admonition-content"><p>Once the application is deployed it will most probably fail because it has not been optimized to work with OpenShift random user ID. You will need to add an entry to the deployment to enable your image to run using any user ID.</p></div></div><p>Go to <strong>Topology</strong>, click on your application node, click on the <strong>Actions</strong> button of your application details, and <strong>Edit deployment</strong>. In the deployment YAML search for <code>spec:</code> which has a <code>containers:</code> as child, and add the following under <code>spec:</code></p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-yaml codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">serviceAccountName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> anyuid</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">containers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Access the application</h5></div><div class="admonition-content"><p>You should now see your pod deployed on the <a href="https://console-openshift-console.apps.dsri2.unimaas.nl/console/projects" target="_blank" rel="noopener noreferrer">Overview</a> page of your project.</p><p>You can expose routes to this pod in the <a href="https://console-openshift-console.apps.dsri2.unimaas.nl/console/projects" target="_blank" rel="noopener noreferrer">Overview</a> page: <strong>Create route</strong></p></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="build-and-push-a-new-docker-image"></a>Build and push a new Docker image<a class="hash-link" href="#build-and-push-a-new-docker-image" title="Direct link to heading">#</a></h2><p>In case you there is no Docker image for your application you can build and push one.</p><p>To build and push a Docker image you will need to have <a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker installed</a>.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Install Docker</h5></div><div class="admonition-content"><p>See the <a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">official documentation to install Docker</a>.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="define-a-dockerfile"></a>Define a Dockerfile<a class="hash-link" href="#define-a-dockerfile" title="Direct link to heading">#</a></h3><p>If no images are available on DockerHub, it is still possible that the developers created the <a href="https://docs.docker.com/engine/reference/builder/" target="_blank" rel="noopener noreferrer">Dockerfile to build the image</a> without pushing it to DockerHub. Go to the GitHub/GitLab source code repository and search for a <code>Dockerfile</code>, it can usually be found in</p><ul><li>the source code repository root folder</li><li>a <code>docker</code> subfolder</li><li>as instructions in the <code>README.md</code></li></ul><p>If no <code>Dockerfile</code> are available we will need to define one. </p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Contact us</h5></div><div class="admonition-content"><p>Feel free to <a href="/help">contact us</a> to get help with this, especially if you are unfamiliar with <a href="https://docs.docker.com/get-started/" target="_blank" rel="noopener noreferrer">Docker</a>.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="build-the-image"></a>Build the image<a class="hash-link" href="#build-the-image" title="Direct link to heading">#</a></h3><p>Once a Dockerfile has been defined for the service you can build it by running the following command from the source code root folder, where the Dockerfile is:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-shell codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker build -t username/my-service </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Arguments can be provided when starting the build, they need to be defined in the Dockerfile to be used.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-shell codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker build -t username/my-service --build-args </span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">MY_ARG</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">my_value </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="push-to-dockerhub"></a>Push to DockerHub<a class="hash-link" href="#push-to-dockerhub" title="Direct link to heading">#</a></h3><p>Before pushing it to DockerHub you will need to create a repository. To do so, click on <strong><a href="https://hub.docker.com/repository/create" target="_blank" rel="noopener noreferrer">Create Repository</a></strong>.</p><ul><li>DockerHub is free for public repositories</li><li>Images can be published under your DockerHub user or an organization you belong to</li></ul><p>Login to DockerHub, if not already done:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-shell codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker login</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>Push the image previously built to DockerHub:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><div tabindex="0" class="prism-code language-shell codeBlock_3iAC thin-scrollbar"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">docker push username/my-service</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button></div></div><p>You can link DockerHub to your source code repository and ask it to build the Docker image automatically (from the Dockerfile in the root folder). It should take between 10 and 30min for DockerHub to build your image</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Deploy from a local Dockerfile</h5></div><div class="admonition-content"><p>You can also deploy a service on the DSRI directly from a local <code>Dockerfile</code>, to avoid using DockerHub. See <a href="/docs/guide-dockerfile-to-openshift">this page to deploy a service from a local Dockerfile</a> for more instructions</p></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/MaastrichtU-IDS/dsri-documentation/edit/master/website/docs/deploy-from-docker.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2022-03-18T11:30:22.000Z" class="docLastUpdatedAt_217_">3/18/2022</time> by <strong>Vincent Emonet</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/guide-dockerfile-to-openshift"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Deploy from a Dockerfile</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/anatomy-of-an-application"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Anatomy of a DSRI application »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#find-an-image-for-your-service" class="table-of-contents__link">Find an image for your service</a></li><li><a href="#deploy-the-image-on-dsri" class="table-of-contents__link">Deploy the image on DSRI</a></li><li><a href="#build-and-push-a-new-docker-image" class="table-of-contents__link">Build and push a new Docker image</a><ul><li><a href="#define-a-dockerfile" class="table-of-contents__link">Define a Dockerfile</a></li><li><a href="#build-the-image" class="table-of-contents__link">Build the image</a></li><li><a href="#push-to-dockerhub" class="table-of-contents__link">Push to DockerHub</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div><a href="https://creativecommons.org/licenses/by/4.0/" title="Creative Commons Attribution 4.0 International license" target="_blank" rel="noopener noreferrer"><img src="/img/cc-by.svg" alt="cc by license"></a></div><div style="margin-bottom:10px">Copyright © 2021 <a href="https://maastrichtuniversity.nl/ids" target="_blank" rel="noopener noreferrer">Institute of Data Science</a> at Maastricht University</div><div style="margin-bottom:10px;color:grey">We don&#x27;t use any tracker, enjoy the freedom and peace of mind 🕊️</div></div></div></footer></div>
<script src="/styles.b6d88ca4.js"></script>
<script src="/runtime~main.0b2d69b0.js"></script>
<script src="/main.81afd9d9.js"></script>
<script src="/1.34a072ec.js"></script>
<script src="/1f391b9e.414a5693.js"></script>
<script src="/82.183591e3.js"></script>
<script src="/935f2afb.d77a3dc7.js"></script>
<script src="/80.4dd148e2.js"></script>
<script src="/f931684d.2e8b1bed.js"></script>
</body>
</html>