<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-deploy-jupyterhub">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">JupyterHub | Data Science Research Infrastructure</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://dsri.maastrichtuniversity.nl//img/undraw_online.svg"><meta data-rh="true" name="twitter:image" content="https://dsri.maastrichtuniversity.nl//img/undraw_online.svg"><meta data-rh="true" property="og:url" content="https://dsri.maastrichtuniversity.nl//docs/deploy-jupyterhub"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="JupyterHub | Data Science Research Infrastructure"><meta data-rh="true" name="description" content="JupyterHub is ideal to enable multiple users easily start predefined workspaces in the same project."><meta data-rh="true" property="og:description" content="JupyterHub is ideal to enable multiple users easily start predefined workspaces in the same project."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://dsri.maastrichtuniversity.nl//docs/deploy-jupyterhub"><link data-rh="true" rel="alternate" href="https://dsri.maastrichtuniversity.nl//docs/deploy-jupyterhub" hreflang="en"><link data-rh="true" rel="alternate" href="https://dsri.maastrichtuniversity.nl//docs/deploy-jupyterhub" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Data Science Research Infrastructure RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Data Science Research Infrastructure Atom Feed">






<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:200,300,400,400i,500,600,700">
<link rel="stylesheet" href="/css/code-blocks-buttons.css">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script src="/js/code-blocks-buttons.js"></script><link rel="stylesheet" href="/assets/css/styles.6883ebda.css">
<link rel="preload" href="/assets/js/runtime~main.941ab402.js" as="script">
<link rel="preload" href="/assets/js/main.e01578f7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/DSRI_beeldmerk_website_size_adjusted.png" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/DSRI_beeldmerk_website_size_adjusted.png" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"> Data Science Reasearch Infrastructure</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Documentation</a><a class="navbar__item navbar__link" href="/gpu-booking">GPU calendar</a><a class="navbar__item navbar__link" href="/acknowledgement">Acknowledgement</a><a class="navbar__item navbar__link" href="/training">Training</a><a class="navbar__item navbar__link" href="/contact">Contact</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/MaastrichtU-IDS/dsri-documentation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="navbar__item"><a href="https://library.maastrichtuniversity.nl/"><img src="/img/favicon.ico" alt="UM" width="30" height="30"></a></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div><div class="searchHintContainer_Pkmr"><kbd class="searchHint_iIMx">ctrl</kbd><kbd class="searchHint_iIMx">K</kbd></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/faq">Quickstart Tips</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/">Getting started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/specs">Software and Hardware</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/prepare-project-for-dsri">Data Management</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/deploy-jupyter">Deploy applications</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deploy-jupyter">Jupyter Notebooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deploy-rstudio">RStudio</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deploy-vscode">VisualStudio Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deploy-database">Databases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deploy-matlab">Matlab</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/deploy-jupyterhub">JupyterHub</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/dask-cluster">Dask Cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/mpi-jobs">MPI jobs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/neuroscience">Neuroscience research</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/catalog-genomics">Genomics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/catalog-imaging">Imaging softwares</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/catalog-utilities">Utilities</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/anatomy-of-an-application">Advanced Deployment</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/access-um-servers">Advanced Topics</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/surf-offerings">SURF Offerings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/contribute">Contributing to DSRI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/glossary">Glossary</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Deploy applications</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">JupyterHub</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>JupyterHub</h1></header><p>JupyterHub is ideal to enable multiple users easily start predefined workspaces in the same project. </p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Advanced 🧪 </div><div class="admonitionContent_S0QG"><p>Configuring and deploying JupyterHub can be a bit tricky. Feel free to <a href="https://servicedesk.icts.maastrichtuniversity.nl/tas/public/ssp/content/serviceflow?unid=1ffa93e9ecd94d938ad46e3cb24c2392" target="_blank" rel="noopener noreferrer">submit a ticket</a> to ask for help.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="downloading-and-adjusting-the-config-basicyaml">Downloading and adjusting the config-basic.yaml<a class="hash-link" href="#downloading-and-adjusting-the-config-basicyaml" title="Direct link to heading">​</a></h2><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Before you begin download the config-basic.yaml</div><div class="admonitionContent_S0QG"><p>Download the preconfigured <code>config-basic.yaml</code> from our <a href="https://raw.githubusercontent.com/MaastrichtU-IDS/dsri-documentation/refs/heads/master/applications/jupyterhub/config-basic.yaml" target="_blank" rel="noopener noreferrer">GitHub repository</a>.
The default config that is provided by JupyterHub will not work. </p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-users-default-persistent-volume-size">Setting user&#x27;s default persistent volume size<a class="hash-link" href="#setting-users-default-persistent-volume-size" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="persistent-volumes">Persistent volumes<a class="hash-link" href="#persistent-volumes" title="Direct link to heading">​</a></h4><p>Persistent volumes are automatically created for each user and instance started in JupyterHub to ensure persistence of the data even if JupyterHub is stopped. You can find the persistent volumes in the DSRI web UI, go to the <strong>Administrator</strong> view &gt; <strong>Storage</strong> &gt; <strong>Persistent Volume Claims</strong>.</p><p>It is possible to change the default size of a persistent volume claim for a user in the <code>config-basic.yaml</code>. In our <code>config-basic.yaml</code> the default value is <code>2Gi</code>. However if you think that your users will need more storage space you can change this default size in the <code>config-basic.yaml</code>. </p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">singleuser:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  storage:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    capacity: 2Gi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-an-authentication-method">Configuring an authentication method<a class="hash-link" href="#configuring-an-authentication-method" title="Direct link to heading">​</a></h3><p>At the moment we support three different authentication methods. One for testing purposes (dummy authentication), one for people who are working alone in a JupyterHub instance or with one or two collaborators (allowed_users / admin_users authentication), and one for allowing groups of people to collaborate in the same JupyterHub instance (GitHub OAuth). By default the dummy authentication is set in the <code>config-basic.yaml</code>. <strong>Note that this is only for testing purposes!!!</strong> However, with very few changes to the <code>config-basic.yaml</code> you can set up the other authentication methods. For reference see <a href="https://z2jh.jupyter.org/en/stable/administrator/authentication.html" target="_blank" rel="noopener noreferrer">the zero2jupyterhub documentation about authentication methods</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dummy-authentication">Dummy authentication<a class="hash-link" href="#dummy-authentication" title="Direct link to heading">​</a></h4><p>This authentication method is set by default and is only there so that you can easily test your JupyterHub instance without the need of setting up proper authentication. The catch with this method is that whatever username/password combination you fill in, you will get access! In other words this is <strong>completely not safe to use in use cases other than testing!</strong>
In the <code>config-basic.yaml</code> you see -besides the commented out other authentication methods- the following block of text:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">hub:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  config:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    JupyterHub:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      admin_access: </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      authenticator_class: dummy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Some parts are intentionally left out here, shown as dots <code># ...</code> for better representation. If you are first setting up your JupyterHub instance you can leave this as is. Upon going to your instance via the URL you will get prompted with a login screen:</p><img loading="lazy" src="/img/jupyterhub-dummy-login.png" alt="" style="max-width:75%;max-height:75%" class="img_ev3q"><h1></h1><p>Fill in any usernamer and password combination you would like and the user account will be made. Note that this user account literally is made and has its own pod in the project. It also has a persistent volume and all the other properties of any other user account created. However, you can use whatever password you want to access this account. In other words do not use this user actively and definitely do not store any (sensitive) data in this user account!</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="allow_users--admin_users-authentication">allow_users / admin_users authentication<a class="hash-link" href="#allow_users--admin_users-authentication" title="Direct link to heading">​</a></h4><p>If you will be working on your own in your JupyterHub instance it will be easiest to use the allow_users / admin_users authentication method. This method allows you to specify a user and admin account with a shared password. <strong>It is important that you keep this password a secret and safe! If people will get their hands on this they can acces your JupyterHub instance and log in as an admin, which can lead to hefty consequences.</strong> </p><p>If you want to make use of this config uncomment the following block of text and comment out the previous block of text seen at the <code>Dummy authentication</code> section above:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">hub:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  config:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Authenticator:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      admin_users:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - admin</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      allowed_users:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - user1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    DummyAuthenticator:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      password: a-shared-secret-password</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    JupyterHub:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      authenticator_class: dummy</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that this password is in plaintext in your <code>config-basic.yaml</code>. <strong>Do not use a password you use for other accounts, this is never a good idea and is surely not a good idea in this case!</strong> Unfortunately it is not possible to set passwords in JupyterHub using secrets in the DSRI at the moment. If you need to share your JupyterHub instance with others we recommend you to use the GitHub OAuth authentication method described below. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="github-oauth-authentication">GitHub OAuth authentication<a class="hash-link" href="#github-oauth-authentication" title="Direct link to heading">​</a></h4><p>This authentication method is the most secure option we provide at the moment. It makes use of an GitHub OAuth app. The major caveat is that you and the people you want to collaborate with need a GitHub account. </p><p>For creating an OAuth app in GitHub please refer to GitHub&#x27;s <a href="https://docs.github.com/en/apps/oauth-apps/building-oauth-apps/creating-an-oauth-app" target="_blank" rel="noopener noreferrer">documentation</a>. </p><p>The GitHub OAuth app will provide the client ID and client secret. Fill in the <code>&lt;route name&gt;</code> and <code>&lt;project name&gt;</code> at the <code>oauth_callback_url</code> section. To set up a route to get your <code>&lt;route name&gt;</code> see the following section: <a href="https://dsri.maastrichtuniversity.nl/docs/deploy-jupyterhub#creating-a-secured-route" target="_blank" rel="noopener noreferrer">Creating a secured route using the DSRI website</a>, or <a href="https://dsri.maastrichtuniversity.nl/docs/deploy-jupyterhub#creating-a-secured-route-1" target="_blank" rel="noopener noreferrer">Creating a secured route using the CLI</a>. Note that you can change the <code>&lt;route name&gt;</code> at a later moment by upgrading the <code>config-basic.yaml</code>. </p><p>Access is granted based on username. Admin privileges are set for users in the <code>admin_users</code> group, while <code>allowed_users</code> are regular users that are able to log in to the instance.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">hub:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  config:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    GitHubOAuthenticator:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      client_id: your-client-id</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      client_secret: your-client-secret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      oauth_callback_url: https://</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">route name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">project name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">.apps.dsri2.unimaas.nl/hub/oauth_callback</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      admin_users:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - username</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      allowed_users:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - username1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - username2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      scope:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - read:org</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    JupyterHub:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      authenticator_class: github</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Moreover, it is possible to grant users access to the instance via an GitHub organization. For this, you will need to create an organization, or have admin rights in an organization.
To set up an organization, please refer to GitHub&#x27;s <a href="https://docs.github.com/en/organizations" target="_blank" rel="noopener noreferrer">documentation</a>. </p><p><strong>Make sure that the OAuth app for allowing organizations is made within the organization and not for your personal GitHub account!</strong> From the organization&#x27;s GitHub page in the left sidebar, click <code>Developer settings</code>. Then, in the left sidebar, click <code>OAuth apps</code>. </p><p>Using this method, you grant people authorization to log in to the JupyterHub instance with their GitHub account based on GitHub organization membership. Users who need admin privileges should be added to the <code>admin_users</code> group in the config. Add your own GitHub username to this list so you are sure you have admin privileges.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">hub:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  config:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    GitHubOAuthenticator:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      client_id: your-client-id</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      client_secret: your-client-secret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      oauth_callback_url: https://</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">route name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">project name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">.apps.dsri2.unimaas.nl/hub/oauth_callback</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      admin_users:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - username</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      allowed_organizations:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - my-github-organization</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      scope:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - read:org</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    JupyterHub:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      authenticator_class: github</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It is also possible to limit the access to specific teams in your organization. This allows to give more granular access based on team membership within the organization.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">hub:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  config:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    GitHubOAuthenticator:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      client_id: your-client-id</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      client_secret: your-client-secret</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      oauth_callback_url: https://</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">route name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">-</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">project name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain">.apps.dsri2.unimaas.nl/hub/oauth_callback</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      admin_users:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - username</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      allowed_organizations:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - my-github-organization:my-team</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      scope:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        - read:org</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    JupyterHub:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      authenticator_class: github</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1></h1><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>UM SSO login</div><div class="admonitionContent_S0QG"><p>It is possible to enable UM SSO login for your JupyterHub instance. However, this needs some setting up from our side. If you would like to enable this, please send an email to <a href="mailto:rcs-ub@maastrichtuniversity.nl" target="_blank" rel="noopener noreferrer">rcs-ub@maastrichtuniversity.nl</a>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-the-notebook-image">Configure the notebook image<a class="hash-link" href="#configure-the-notebook-image" title="Direct link to heading">​</a></h3><p>The default notebook image used in the <code>config-basic.yaml</code> is the <code>k8s-singleuser-sample</code> image, version <code>3.3.8</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">singleuser:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  #...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  image:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name: quay.io/jupyterhub/k8s-singleuser-sample</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pullPolicy: null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pullSecrets: []</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    tag: 3.3.8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It is, however, possible to change this notebook image to configure the JupyterHub instance to start up user pods with a customized image, which could have various things installed such as different kernels, packages and/or extensions.
For more information about different images provided by Jupyter, please refer to their <a href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html" target="_blank" rel="noopener noreferrer">documentation</a>.</p><p>For example you can change the notebook image to their Tensorflow image, which comes with Tensorflow pre-installed!</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">singleuser</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  #...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  image:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name: quay.io/jupyter/tensorflow-notebook</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pullPolicy: null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pullSecrets: []</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    tag: 87b37b4fd818</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that we chose the latest tag at the time of writing: <code>87b37b4fd818</code>. Change this tag accordingly if a more recent release is available! You can find their releases via their Quay.io repository: <a href="https://quay.io/organization/jupyter" target="_blank" rel="noopener noreferrer">https://quay.io/organization/jupyter</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adjusting-spawner-timeouts">Adjusting spawner timeouts<a class="hash-link" href="#adjusting-spawner-timeouts" title="Direct link to heading">​</a></h3><p>If the sessions fail to start with a &quot;spawner failed&quot; or &quot;timeout&quot; error, it may be because the user&#x27;s container is taking too long to become read.</p><p>To fix this, the start_timeout can be increased (for the pod to start) and http_timeout (for the Jupyter server to respond) in the <code>config-basic.yaml</code>.
The following configuration sets both timeouts to 300 seconds (5 minutes), which is a robust starting point for most environments.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">hub:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  config:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    KubeSpawner:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      start_timeout: 300</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      http_timeout: 300</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1></h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="extensive-customization-options-in-config-extensiveyaml">Extensive customization options in config-extensive.yaml<a class="hash-link" href="#extensive-customization-options-in-config-extensiveyaml" title="Direct link to heading">​</a></h2><p>It is possible to customize your JupyterHub instance further. For example we created a <code>config-extensive.yaml</code> file which has some customization options configured.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Download the config-extensive.yaml</div><div class="admonitionContent_S0QG"><p>Download the preconfigured <code>config-extensive.yaml</code> from our <a href="https://raw.githubusercontent.com/MaastrichtU-IDS/dsri-documentation/refs/heads/master/applications/jupyterhub/config-extensive.yaml" target="_blank" rel="noopener noreferrer">GitHub repository</a>. </p></div></div><p>In this configuration we disabled culling so that user pods will not be scaled down after a time of inactivity. This can easily be activated again changing <code>cull: &gt; enabled: false</code> to <code>true</code>.</p><p>Next, we extended the startup command to install a Python package <code>papersize</code> upon user pod creation. Additionally, we pull a public GitHub repository, if it does not exist already, to the <code>/home/jovyan/materials</code> directory. This directory will automatically be made if it does not exist already. </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">singleuser:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  #...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # Remove the git clone part or fill in a valid URL, otherwise the user-pod will not start!</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  cmd:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - /bin/bash</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - &#x27;-c&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - &gt;-</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      pip install papersize &amp;&amp; [ &quot;$(ls -A /home/jovyan/materials 2&gt;/dev/null)&quot; ]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      || git clone https://github.com/EbookFoundation/free-programming-books.git</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      /home/jovyan/materials &amp;&amp; exec jupyterhub-singleuser</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Finally, we chose to include two additional notebook images. Besides the minimal image, we include the data science and Tensorflow images. These notebook images come with other kernels, packages and extensions installed. For more information about different images provided by Jupyter, please refer to their <a href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html" target="_blank" rel="noopener noreferrer">documentation</a>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">image:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    name: quay.io/jupyter/minimal-notebook</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pullPolicy: null</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pullSecrets: []</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    tag: 87b37b4fd818</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  profileList:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - display_name: &quot;Minimal environment&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      description: &quot;To avoid too much bells and whistles: Python.&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      default: true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - display_name: &quot;Datascience environment&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      description: &quot;If you want the additional bells and whistles: Python, R, and Julia.&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      kubespawner_override:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        image: quay.io/jupyter/datascience-notebook:87b37b4fd818</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - display_name: &quot;Tensorflow environment&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      description: &quot;Here you have Tensorflow installed!&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      kubespawner_override:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        image: quay.io/jupyter/tensorflow-notebook:87b37b4fd818</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that we chose the latest tag at the time of writing: <code>87b37b4fd818</code>. Change this tag accordingly if a more recent release is available! You can find their releases via their Quay.io repository: <a href="https://quay.io/organization/jupyter" target="_blank" rel="noopener noreferrer">https://quay.io/organization/jupyter</a>.</p><p>Upon the first creation of the user pod, in other words when the user logs in for the first time. They will see a menu where they can choose their preconfigured notebook by choice. </p><img loading="lazy" src="/img/jupyterhub-notebookchoice-login.png" alt="" style="max-width:75%;max-height:75%" class="img_ev3q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adjusting-spawner-timeouts-when-including-multiple-notebook-images">Adjusting spawner timeouts when including multiple notebook images<a class="hash-link" href="#adjusting-spawner-timeouts-when-including-multiple-notebook-images" title="Direct link to heading">​</a></h3><p>If the sessions fail to start with a &quot;spawner failed&quot; or &quot;timeout&quot; error, it may be because the user&#x27;s container is taking too long to become read.</p><p>To fix this, the start_timeout can be increased (for the pod to start) and http_timeout (for the Jupyter server to respond) in the <code>config-extensive.yaml</code>.
The following configuration sets both timeouts to 300 seconds (5 minutes), which is a robust starting point for most environments.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">image:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  # ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  profileList:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    - display_name: &quot;Tensorflow environment&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      description: &quot;Here you have Tensorflow installed!&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      kubespawner_override:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        image: quay.io/jupyter/tensorflow-notebook:87b37b4fd818</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        start_timeout: 300</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        http_timeout: 300</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1></h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-jupyterhub-using-the-dsri-website-">Deploying JupyterHub using the DSRI website 🪐<a class="hash-link" href="#deploying-jupyterhub-using-the-dsri-website-" title="Direct link to heading">​</a></h2><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Before you begin download the config-basic.yaml</div><div class="admonitionContent_S0QG"><p>Download the preconfigured <code>config-basic.yaml</code> from our <a href="https://raw.githubusercontent.com/MaastrichtU-IDS/dsri-documentation/refs/heads/master/applications/jupyterhub/config-basic.yaml" target="_blank" rel="noopener noreferrer">GitHub repository</a>.
The default config that is provided by JupyterHub will not work. </p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installing-the-jupyterhub-helm-chart-repository">Installing the JupyterHub Helm Chart repository<a class="hash-link" href="#installing-the-jupyterhub-helm-chart-repository" title="Direct link to heading">​</a></h3><p>After you have created a project you can start with installing the JupyterHub Helm Chart. If you do not have access to DSRI or created a project yet, and you need to find out how, please refer to our <a href="https://dsri.maastrichtuniversity.nl/docs/" target="_blank" rel="noopener noreferrer">documentation.</a></p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Helm Chart already available</div><div class="admonitionContent_S0QG"><p>The Helm Chart should be already made available for everyone to use on the DSRI platform. There will be no need to install the repository yourself.</p></div></div><h1></h1><p>In <code>Developer</code> mode in your project, go to <code>Helm</code> in the sidepanel (1). Next, click on <code>Create</code> and choose <code>Repository</code> (2).</p><img loading="lazy" src="/img/jupyterhub-helm-chart-repo-add-one.png" alt="" style="max-width:100%;max-height:100%" class="img_ev3q"><h1></h1><p>Then fill in the <code>Name</code>, <code>Display Name</code>, give it a <code>Description</code> and fill in the <code>URL</code>: <a href="https://hub.jupyter.org/helm-chart/" target="_blank" rel="noopener noreferrer">https://hub.jupyter.org/helm-chart/</a>. </p><h1></h1><p>Next, click <code>Create</code>. </p><img loading="lazy" src="/img/jupyterhub-helm-chart-repo-add-two.png" alt="" style="max-width:100%;max-height:100%" class="img_ev3q"><h1></h1><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installing-the-jupyterhub-helm-chart">Installing the JupyterHub Helm Chart<a class="hash-link" href="#installing-the-jupyterhub-helm-chart" title="Direct link to heading">​</a></h3><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>At the moment the latest -and only- Helm Chart version which is supported by DSRI is version 3.3.8. Newer versions will not work, and older versions are not tested and/or configured!</p></div></div><h1></h1><p>In <code>Developer</code> mode in your project, go to <code>Helm</code> in the sidepanel (1). Next, click on <code>Create</code> and choose <code>Helm Release</code> (2)</p><img loading="lazy" src="/img/jupyterhub-helm-chart-install-one.png" alt="" style="max-width:100%;max-height:100%" class="img_ev3q"><h1></h1><p>Search for <code>jupyterhub</code> (or the name you gave the repository if you added the repository yourself), and choose the <code>JupyterHub</code> Helm Chart (1).</p><img loading="lazy" src="/img/jupyterhub-helm-chart-install-two.png" alt="" style="max-width:100%;max-height:100%" class="img_ev3q"><h1></h1><p>Click <code>Create</code>.</p><img loading="lazy" src="/img/jupyterhub-helm-chart-install-three.png" alt="" style="max-width:100%;max-height:100%" class="img_ev3q"><h1></h1><p>Click the <code>Chart version</code> drop down menu (1).</p><img loading="lazy" src="/img/jupyterhub-helm-chart-install-four.png" alt="" style="max-width:100%;max-height:100%" class="img_ev3q"><h1></h1><p>And choose the right Chart version: <code>3.3.8</code> (1). Note that this is an important step, as we only support version 3.3.8 at the moment. Newer versions do not work yet and older versions we did not configure and/or test! </p><img loading="lazy" src="/img/jupyterhub-helm-chart-install-five.png" alt="" style="max-width:100%;max-height:100%" class="img_ev3q"><h1></h1><p>Now, change the config with the content of the <code>config-basic.yaml</code> you have downloaded from our <a href="https://raw.githubusercontent.com/MaastrichtU-IDS/dsri-documentation/refs/heads/master/applications/jupyterhub/config-basic.yaml" target="_blank" rel="noopener noreferrer">GitHub repository</a>.
Copy the content of the <code>config-basic.yaml</code> and paste it in the highlighted box to replace the old with the new config. Click <code>Create</code> to install the JupyterHub Helm Chart.</p><img loading="lazy" src="/img/jupyterhub-helm-chart-install-six.png" alt="" style="max-width:100%;max-height:100%" class="img_ev3q"><h1></h1><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-secured-route">Creating a secured route<a class="hash-link" href="#creating-a-secured-route" title="Direct link to heading">​</a></h3><p>Create a secured route, with TLS edge termination.</p><p>In <code>Developer</code> mode in your project, go to <code>Project</code> in the sidepanel (1). Next, click on <code>Route</code> (2).</p><img loading="lazy" src="/img/jupyterhub-helm-chart-route-one.png" alt="" style="max-width:100%;max-height:100%" class="img_ev3q"><h1></h1><p>Next, click <code>Create</code>.</p><img loading="lazy" src="/img/jupyterhub-helm-chart-route-two.png" alt="" style="max-width:100%;max-height:100%" class="img_ev3q"><h1></h1><p>Fill in the <code>Name</code> (1), choose the <code>Service</code>: <code>proxy-public</code> (2), choose the <code>Target Port</code>: <code>80 -&gt; http (TCP)</code> (3), tick the box <code>Secure Route</code> (4), and finally choose <code>TLS Termination</code>: <code>Edge</code> (5). Next, click <code>Create</code>, to create the route.</p><img loading="lazy" src="/img/jupyterhub-helm-chart-route-three.png" alt="" style="max-width:100%;max-height:100%" class="img_ev3q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="upgrading-the-config-basicyaml">Upgrading the config-basic.yaml<a class="hash-link" href="#upgrading-the-config-basicyaml" title="Direct link to heading">​</a></h3><p>You can upgrade your <code>config-basic.yaml</code> easily in the DSRI web UI if you would like to change certain settings, such as user&#x27;s default persistent volume claims, authentication methods, and many more things. Note that in some cases users who created an account with an old authentication method will still have access via that method, make sure you set up your preferred authentication method before allowing users to authenticate and use the JupyterHub instance.</p><h1></h1><p>In <code>Developer</code> mode in your project, go to <code>Helm</code> in the sidepanel (1). Next, click on your Helm Chart Release (2).</p><img loading="lazy" src="/img/jupyterhub-helm-chart-upgrade-chart-one.png" alt="" style="max-width:100%;max-height:100%" class="img_ev3q"><h1></h1><p>Now, click the <code>Actions</code> drop down menu, and choose <code>Upgrade</code> (1).</p><img loading="lazy" src="/img/jupyterhub-helm-chart-upgrade-chart-two.png" alt="" style="max-width:100%;max-height:100%" class="img_ev3q"><h1></h1><p>In the box -highlighted in the picutre below- you can make changes to the config-basic.yaml. After you have made your changes, click <code>Upgrade</code> and your upgraded JupyterHub Helm Chart Release will automatically be deployed.</p><img loading="lazy" src="/img/jupyterhub-helm-chart-upgrade-chart-three.png" alt="" style="max-width:100%;max-height:100%" class="img_ev3q"><h1></h1><div class="theme-admonition theme-admonition-success alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Configure JupyterHub</div><div class="admonitionContent_S0QG"><p>Feel free to <a href="https://servicedesk.icts.maastrichtuniversity.nl/tas/public/ssp/content/serviceflow?unid=1ffa93e9ecd94d938ad46e3cb24c2392" target="_blank" rel="noopener noreferrer">submit a ticket</a> to ask for help configuring your JupyterHub.</p></div></div><h1></h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-jupyterhub-using-the-command-line-interface-cli-">Deploying JupyterHub using the Command Line Interface (CLI) 🪐<a class="hash-link" href="#deploying-jupyterhub-using-the-command-line-interface-cli-" title="Direct link to heading">​</a></h2><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Before you begin download the config-basic.yaml</div><div class="admonitionContent_S0QG"><p>Download the preconfigured <code>config-basic.yaml</code> from our <a href="https://raw.githubusercontent.com/MaastrichtU-IDS/dsri-documentation/refs/heads/master/applications/jupyterhub/config-basic.yaml" target="_blank" rel="noopener noreferrer">GitHub repository</a>.
The default config that is provided by JupyterHub will not work. </p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installing-the-jupyterhub-helm-chart-repository-1">Installing the JupyterHub Helm Chart repository<a class="hash-link" href="#installing-the-jupyterhub-helm-chart-repository-1" title="Direct link to heading">​</a></h3><p>After you have created a project you can start with installing the JupyterHub Helm Chart. If you do not have access to DSRI or created a project yet, and you need to find out how, please refer to our <a href="https://dsri.maastrichtuniversity.nl/docs/" target="_blank" rel="noopener noreferrer">documentation.</a></p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Helm Chart already available</div><div class="admonitionContent_S0QG"><p>The Helm Chart should be already made available for everyone to use on the DSRI platform. There will be no need to install the repository yourself.</p></div></div><h1></h1><p>Add the JupyterHub Helm Chart repository:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm repo </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> jupyterhub https://hub.jupyter.org/helm-chart/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm repo update</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installing-the-jupyterhub-helm-chart-1">Installing the JupyterHub Helm Chart<a class="hash-link" href="#installing-the-jupyterhub-helm-chart-1" title="Direct link to heading">​</a></h3><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>At the moment the latest -and only- Helm Chart version which is supported by DSRI is version 3.3.8. Newer versions will not work, and older versions are not tested and/or configured!</p></div></div><h1></h1><p>Make sure you use the right <code>config-basic.yaml</code> downloaded from our <a href="https://raw.githubusercontent.com/MaastrichtU-IDS/dsri-documentation/refs/heads/master/applications/jupyterhub/config-basic.yaml" target="_blank" rel="noopener noreferrer">GitHub repository</a>.</p><p>Install the Helm Chart using the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm upgrade --cleanup-on-fail </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --install jupyterhub jupyterhub/jupyterhub </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --version</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">3.3</span><span class="token plain">.8 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --namespace</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">project name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --values config-basic.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>&lt;project name&gt;</code> is the name of your project.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-secured-route-1">Creating a secured route<a class="hash-link" href="#creating-a-secured-route-1" title="Direct link to heading">​</a></h3><p>Create a secured route, with TLS edge termination:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">oc create route edge </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">NAME OF ROUTE</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --namespace </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">project name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> --service</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">proxy-public --port</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">http</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>&lt;project name&gt;</code> is the name of your project.
<code>&lt;NAME OF ROUTE&gt;</code> is the name of the route. </p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="upgrading-the-config-basicyaml-1">Upgrading the config-basic.yaml<a class="hash-link" href="#upgrading-the-config-basicyaml-1" title="Direct link to heading">​</a></h3><p>Run the following command with your new config-basic.yaml:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm upgrade --cleanup-on-fail </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --install jupyterhub jupyterhub/jupyterhub </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --version</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token number" style="color:rgb(247, 140, 108)">3.3</span><span class="token plain">.8 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --namespace</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token plain">project name</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  --values config-basic.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>&lt;project name&gt;</code> is the name of your project.</p><h1></h1><div class="theme-admonition theme-admonition-success alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Configure JupyterHub</div><div class="admonitionContent_S0QG"><p>Feel free to <a href="https://servicedesk.icts.maastrichtuniversity.nl/tas/public/ssp/content/serviceflow?unid=1ffa93e9ecd94d938ad46e3cb24c2392" target="_blank" rel="noopener noreferrer">submit a ticket</a> to ask for help configuring your JupyterHub.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connecting-to-a-jupyterhub-instance-with-the-api">Connecting to a JupyterHub instance with the API<a class="hash-link" href="#connecting-to-a-jupyterhub-instance-with-the-api" title="Direct link to heading">​</a></h2><p>It is possible to use API calls to interact with your JupyterHub instance. For more information about the JupyterHub API you can find their documentation <a href="https://jupyterhub.readthedocs.io/en/stable/reference/rest-api.html" target="_blank" rel="noopener noreferrer">here</a>.</p><p>To make us of the API, first you need to access your personal API token. In your JupyterHub instance, after logging in, click <code>File</code> in the top left corner. Then click <code>Hub Control Panel</code>, and you will navigate to your Hub&#x27;s control panel. Then click <code>Token</code> in the top navigation bar. </p><p>You will navigate to your API token management page. Here you can request a new API token for yourself by clicking the <code>Request new API token</code> button. You can choose to let the API token expire in one hour, one day, one week or to never let the token expire.</p><p>Furthermore, you can revoke existing tokens and you can manage authorized applications which are linked via OAuth token to your JupyterHub.</p><p>This is an example on how to request all users with the JupyterHub API using the Python programming language:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">import requests</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">import json</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">api_token = &#x27; &lt;TOKEN&gt;&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">api_url = &#x27;&lt;URL&gt;/hub/api&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">r = requests.get(f&#x27;{api_url}/users&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    headers={</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        &#x27;Authorization&#x27;: f&#x27;token {api_token}&#x27;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">})</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">status_code = r.status_code</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">print(&#x27;Status code:&#x27;, status_code)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">status = r.raise_for_status()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">print(&#x27;Status:&#x27;, status)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">users = r.json()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">print(json.dumps(users, indent=3))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Where <code>&lt;TOKEN&gt;</code> is your API token. And <code>&lt;URL&gt;</code> is your JupyterHub instance&#x27;s URL.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/MaastrichtU-IDS/dsri-documentation/edit/master/website/docs/deploy-jupyterhub.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-10-07T14:08:09.000Z">Oct 7, 2025</time></b> by <b>lwinckers</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/deploy-matlab"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Matlab</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/dask-cluster"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Dask Cluster</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#downloading-and-adjusting-the-config-basicyaml" class="table-of-contents__link toc-highlight">Downloading and adjusting the config-basic.yaml</a><ul><li><a href="#setting-users-default-persistent-volume-size" class="table-of-contents__link toc-highlight">Setting user&#39;s default persistent volume size</a></li><li><a href="#configuring-an-authentication-method" class="table-of-contents__link toc-highlight">Configuring an authentication method</a></li><li><a href="#configure-the-notebook-image" class="table-of-contents__link toc-highlight">Configure the notebook image</a></li><li><a href="#adjusting-spawner-timeouts" class="table-of-contents__link toc-highlight">Adjusting spawner timeouts</a></li></ul></li><li><a href="#extensive-customization-options-in-config-extensiveyaml" class="table-of-contents__link toc-highlight">Extensive customization options in config-extensive.yaml</a><ul><li><a href="#adjusting-spawner-timeouts-when-including-multiple-notebook-images" class="table-of-contents__link toc-highlight">Adjusting spawner timeouts when including multiple notebook images</a></li></ul></li><li><a href="#deploying-jupyterhub-using-the-dsri-website-" class="table-of-contents__link toc-highlight">Deploying JupyterHub using the DSRI website 🪐</a><ul><li><a href="#installing-the-jupyterhub-helm-chart-repository" class="table-of-contents__link toc-highlight">Installing the JupyterHub Helm Chart repository</a></li><li><a href="#installing-the-jupyterhub-helm-chart" class="table-of-contents__link toc-highlight">Installing the JupyterHub Helm Chart</a></li><li><a href="#creating-a-secured-route" class="table-of-contents__link toc-highlight">Creating a secured route</a></li><li><a href="#upgrading-the-config-basicyaml" class="table-of-contents__link toc-highlight">Upgrading the config-basic.yaml</a></li></ul></li><li><a href="#deploying-jupyterhub-using-the-command-line-interface-cli-" class="table-of-contents__link toc-highlight">Deploying JupyterHub using the Command Line Interface (CLI) 🪐</a><ul><li><a href="#installing-the-jupyterhub-helm-chart-repository-1" class="table-of-contents__link toc-highlight">Installing the JupyterHub Helm Chart repository</a></li><li><a href="#installing-the-jupyterhub-helm-chart-1" class="table-of-contents__link toc-highlight">Installing the JupyterHub Helm Chart</a></li><li><a href="#creating-a-secured-route-1" class="table-of-contents__link toc-highlight">Creating a secured route</a></li><li><a href="#upgrading-the-config-basicyaml-1" class="table-of-contents__link toc-highlight">Upgrading the config-basic.yaml</a></li></ul></li><li><a href="#connecting-to-a-jupyterhub-instance-with-the-api" class="table-of-contents__link toc-highlight">Connecting to a JupyterHub instance with the API</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div><a href="https://creativecommons.org/licenses/by/4.0/" title="Creative Commons Attribution 4.0 International license" target="_blank" rel="noopener noreferrer"><img src="/img/cc-by.svg" alt="cc by license"></a></div><div style="margin-bottom:10px">Copyright © 2025 <a href="https://library.maastrichtuniversity.nl/" target="_blank" rel="noopener noreferrer">University Library</a> at Maastricht University</div></div></div></footer></div>
<script src="/assets/js/runtime~main.941ab402.js"></script>
<script src="/assets/js/main.e01578f7.js"></script>
</body>
</html>