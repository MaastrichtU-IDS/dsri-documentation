"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3360],{5680:(e,n,a)=>{a.d(n,{xA:()=>m,yg:()=>d});var t=a(6540);function i(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function r(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach((function(n){i(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function s(e,n){if(null==e)return{};var a,t,i=function(e,n){if(null==e)return{};var a,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||(i[a]=e[a]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=t.createContext({}),p=function(e){var n=t.useContext(l),a=n;return e&&(a="function"==typeof e?e(n):r(r({},n),e)),a},m=function(e){var n=p(e.components);return t.createElement(l.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var a=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),u=p(a),d=i,g=u["".concat(l,".").concat(d)]||u[d]||c[d]||o;return a?t.createElement(g,r(r({ref:n},m),{},{components:a})):t.createElement(g,r({ref:n},m))}));function d(e,n){var a=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=a.length,r=new Array(o);r[0]=u;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var p=2;p<o;p++)r[p]=a[p];return t.createElement.apply(null,r)}return t.createElement.apply(null,a)}u.displayName="MDXCreateElement"},7366:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>m,contentTitle:()=>l,default:()=>d,frontMatter:()=>s,metadata:()=>p,toc:()=>c});var t=a(9668),i=a(1367),o=(a(6540),a(5680)),r=["components"],s={id:"anatomy-of-an-application",title:"Anatomy of a DSRI application"},l=void 0,p={unversionedId:"anatomy-of-an-application",id:"anatomy-of-an-application",title:"Anatomy of a DSRI application",description:"Browse the RCS team's ready-to-use templates at https://github.com/MaastrichtU-IDS/dsri-documentation/tree/master/applications/templates",source:"@site/docs/anatomy-of-an-application.md",sourceDirName:".",slug:"/anatomy-of-an-application",permalink:"/docs/anatomy-of-an-application",draft:!1,editUrl:"https://github.com/MaastrichtU-IDS/dsri-documentation/edit/master/website/docs/anatomy-of-an-application.md",tags:[],version:"current",lastUpdatedBy:"lwinckers",lastUpdatedAt:1766059239,formattedLastUpdatedAt:"Dec 18, 2025",frontMatter:{id:"anatomy-of-an-application",title:"Anatomy of a DSRI application"},sidebar:"docs",previous:{title:"Utilities",permalink:"/docs/catalog-utilities"},next:{title:"Deploy from a Dockerfile",permalink:"/docs/guide-dockerfile-to-openshift"}},m={},c=[{value:"The Backbone Template Structure",id:"the-backbone-template-structure",level:2},{value:"Template Components",id:"template-components",level:2},{value:"Template Metadata",id:"template-metadata",level:3},{value:"Parameters",id:"parameters",level:3},{value:"1. ImageStream",id:"1-imagestream",level:3},{value:"2. PersistentVolumeClaim",id:"2-persistentvolumeclaim",level:3},{value:"3. Service",id:"3-service",level:3},{value:"4. Route",id:"4-route",level:3},{value:"5. Secret",id:"5-secret",level:3},{value:"6. Deployment",id:"6-deployment",level:3},{value:"Pod Template Spec",id:"pod-template-spec",level:4},{value:"Volumes",id:"volumes",level:4},{value:"Container Definition",id:"container-definition",level:4},{value:"Volume Mounts",id:"volume-mounts",level:4},{value:"Environment Variables",id:"environment-variables",level:4},{value:"Resource Limits",id:"resource-limits",level:4},{value:"The complete application",id:"the-complete-application",level:2},{value:"Build Your Own Template",id:"build-your-own-template",level:2},{value:"Quick Customization Checklist",id:"quick-customization-checklist",level:3},{value:"Advanced Features",id:"advanced-features",level:2},{value:"Health Checks",id:"health-checks",level:3},{value:"Configuration Files",id:"configuration-files",level:3}],u={toc:c};function d(e){var n=e.components,a=(0,i.A)(e,r);return(0,o.yg)("wrapper",(0,t.A)({},u,a,{components:n,mdxType:"MDXLayout"}),(0,o.yg)("admonition",{title:"Check out existing templates",type:"info"},(0,o.yg)("p",{parentName:"admonition"},"Browse the RCS team's ready-to-use templates at ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/MaastrichtU-IDS/dsri-documentation/tree/master/applications/templates"},"https://github.com/MaastrichtU-IDS/dsri-documentation/tree/master/applications/templates"))),(0,o.yg)("p",null,"This page shows you how applications are built using ",(0,o.yg)("strong",{parentName:"p"},"OpenShift templates")," and helps you understand the different objects needed when deploying an application on a Kubernetes cluster. While OpenShift templates can only be deployed to OpenShift, the objects they define are the same as in Kubernetes (apart from Route which becomes Ingress)."),(0,o.yg)("p",null,"OpenShift templates are the easiest way to build an application that can be deployed from the DSRI web UI catalog in a few clicks by providing a few parameters. We'll use the VSCode template as an example, but the same structure applies to all DSRI applications."),(0,o.yg)("admonition",{title:"Do you got what it takes?",type:"info"},(0,o.yg)("p",{parentName:"admonition"},"The amount of objects might seem overwhelming at first, but this is what it takes to automatically deploy a complex application on a large cluster, available through a generated URL with ",(0,o.yg)("inlineCode",{parentName:"p"},"HTTPS")," encryption!")),(0,o.yg)("h2",{id:"the-backbone-template-structure"},"The Backbone Template Structure"),(0,o.yg)("p",null,"All DSRI application templates follow a standardized ",(0,o.yg)("strong",{parentName:"p"},"backbone structure")," with these essential components:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"ImageStream")," - Docker image management"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"PersistentVolumeClaim")," - Data storage"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Service")," - Internal network exposure"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Route")," - External HTTPS access"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Secret")," - Secure password storage"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Deployment")," - Container orchestration")),(0,o.yg)("p",null,"This structure makes it easy to create new templates by starting with the backbone and customizing only what's needed."),(0,o.yg)("h2",{id:"template-components"},"Template Components"),(0,o.yg)("h3",{id:"template-metadata"},"Template Metadata"),(0,o.yg)("p",null,"The Template object contains all components and provides the description shown in the DSRI web UI catalog:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},"kind: Template\napiVersion: template.openshift.io/v1\nmetadata:\n  name: vscode-root\n  annotations:\n    openshift.io/display-name: VisualStudio Code server\n    description: |-\n      Start VisualStudio Code server with the coder user which has sudo permissions\n      \ud83d\udcc2 Use the /home/coder/project folder to store your data in persistent storage\n    iconClass: icon-kubevirt\n    tags: visualstudio,vscode,root,persistent\nlabels:\n  template: vscode-root\n")),(0,o.yg)("h3",{id:"parameters"},"Parameters"),(0,o.yg)("p",null,"Define user-configurable values. The backbone provides four standard parameters:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},"parameters:\n  - name: APPLICATION_NAME\n    displayName: Application name\n    description: Must be without spaces (use -), and unique in the project.\n    value: vscode\n    required: true\n  - name: APPLICATION_IMAGE\n    displayName: Docker image for the application\n    value: ghcr.io/maastrichtu-ids/code-server\n    required: true\n  - name: STORAGE_SIZE\n    displayName: Storage size\n    value: 10Gi\n    required: true\n  - name: PASSWORD\n    displayName: Password\n    required: true\n")),(0,o.yg)("p",null,"Reference parameters using ",(0,o.yg)("inlineCode",{parentName:"p"},"${APPLICATION_NAME}")," syntax throughout the template."),(0,o.yg)("p",null,"You can add custom parameters specific to your application below these standard ones."),(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Objects deployed when instantiate this template (to start an application):")),(0,o.yg)("h3",{id:"1-imagestream"},"1. ImageStream"),(0,o.yg)("p",null,"Imports and manages the Docker image. Setting ",(0,o.yg)("inlineCode",{parentName:"p"},"importPolicy: scheduled: true")," auto-checks for new versions (use cautiously to avoid DockerHub rate limits):"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},'objects:\n  - kind: ImageStream\n    apiVersion: image.openshift.io/v1\n    metadata:\n      name: "${APPLICATION_NAME}"\n      labels:\n        app: "${APPLICATION_NAME}"\n    spec:\n      lookupPolicy:\n        local: true\n      tags:\n        - name: latest\n          from:\n            kind: DockerImage\n            name: ${APPLICATION_IMAGE}\n          importPolicy:\n            scheduled: false\n')),(0,o.yg)("h3",{id:"2-persistentvolumeclaim"},"2. PersistentVolumeClaim"),(0,o.yg)("p",null,"Creates persistent storage to preserve data across restarts. Files outside persistent volumes are lost when pods restart."),(0,o.yg)("p",null,"The backbone uses ",(0,o.yg)("inlineCode",{parentName:"p"},"ocs-storagecluster-cephfs")," as the storage class."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},'  - kind: PersistentVolumeClaim\n    apiVersion: v1\n    metadata:\n      name: "${APPLICATION_NAME}"\n      labels:\n        app: "${APPLICATION_NAME}"\n    spec:\n      accessModes:\n        - ReadWriteMany\n      resources:\n        requests:\n          storage: ${STORAGE_SIZE}\n      storageClassName: ocs-storagecluster-cephfs\n')),(0,o.yg)("h3",{id:"3-service"},"3. Service"),(0,o.yg)("p",null,"Exposes the application port on the project network. ",(0,o.yg)("strong",{parentName:"p"},"Important:")," Ensure ",(0,o.yg)("inlineCode",{parentName:"p"},"port")," and ",(0,o.yg)("inlineCode",{parentName:"p"},"targetPort")," match the ",(0,o.yg)("inlineCode",{parentName:"p"},"containerPort")," in your Deployment."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},'  - kind: Service\n    apiVersion: v1\n    metadata:\n      name: "${APPLICATION_NAME}"\n      labels:\n        app: "${APPLICATION_NAME}"\n    spec:\n      selector:\n        app: "${APPLICATION_NAME}" \n      ports:\n        - name: "8080-tcp"\n          protocol: TCP\n          port: 8080\n          targetPort: 8080\n')),(0,o.yg)("h3",{id:"4-route"},"4. Route"),(0,o.yg)("p",null,"Generates a public URL (",(0,o.yg)("inlineCode",{parentName:"p"},"APPLICATION_NAME-PROJECT_ID.dsri.maastrichtuniversity.nl"),") with automatic HTTPS."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},'  - kind: Route\n    apiVersion: route.openshift.io/v1\n    metadata:\n      name: "${APPLICATION_NAME}"\n      labels:\n        app: "${APPLICATION_NAME}"\n    spec:\n      to:\n        kind: Service\n        name: "${APPLICATION_NAME}"\n      port:\n        targetPort: "8080-tcp"\n      tls:\n        termination: edge\n        insecureEdgeTerminationPolicy: Redirect\n')),(0,o.yg)("h3",{id:"5-secret"},"5. Secret"),(0,o.yg)("p",null,"Stores sensitive data like passwords."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},'  - kind: Secret\n    apiVersion: v1\n    metadata:\n      name: "${APPLICATION_NAME}"\n      labels:\n        app: "${APPLICATION_NAME}"\n    stringData:\n      application-password: "${PASSWORD}"\n')),(0,o.yg)("h3",{id:"6-deployment"},"6. Deployment"),(0,o.yg)("p",null,"Defines how to run the application. Uses ",(0,o.yg)("inlineCode",{parentName:"p"},"Recreate")," strategy to properly restart containers (or ",(0,o.yg)("inlineCode",{parentName:"p"},"RollingUpdate")," for zero-downtime updates)."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},'  - kind: Deployment\n    apiVersion: apps/v1\n    metadata:\n      name: "${APPLICATION_NAME}"\n      labels:\n        app: "${APPLICATION_NAME}"\n    spec:\n      replicas: 1\n      strategy:\n        type: Recreate\n      selector:\n        matchLabels:\n          app: "${APPLICATION_NAME}"\n')),(0,o.yg)("h4",{id:"pod-template-spec"},"Pod Template Spec"),(0,o.yg)("p",null,"The pod template defines the actual container that will run your application."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},'      template:\n        metadata:\n          annotations:\n            io.kubernetes.cri-o.TrySkipVolumeSELinuxLabel: \'true\'\n          labels:\n            app: "${APPLICATION_NAME}"\n            deployment: "${APPLICATION_NAME}"\n        spec:\n          runtimeClassName: selinux\n          serviceAccountName: anyuid\n          automountServiceAccountToken: false\n')),(0,o.yg)("p",null,"Setting ",(0,o.yg)("inlineCode",{parentName:"p"},"serviceAccountName: anyuid")," is required for most Docker containers as it allows running a container using any user ID (e.g., root). Otherwise OpenShift expects to use a random user ID, which requires building the Docker image especially to work with random user IDs."),(0,o.yg)("h4",{id:"volumes"},"Volumes"),(0,o.yg)("p",null,"Define the volumes that will be available to the pod. The ",(0,o.yg)("inlineCode",{parentName:"p"},"data")," volume references our PersistentVolumeClaim, and ",(0,o.yg)("inlineCode",{parentName:"p"},"dshm")," provides shared memory."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},'          volumes:\n            - name: data \n              persistentVolumeClaim:\n                claimName: "${APPLICATION_NAME}"\n            - name: dshm \n              emptyDir:\n                medium: Memory\n')),(0,o.yg)("h4",{id:"container-definition"},"Container Definition"),(0,o.yg)("p",null,"Define the container(s) that will run in the pod. It's recommended to deploy 1 container per pod for better separation and management."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},'          containers:\n            - name: vscode-container \n              image: "${APPLICATION_IMAGE}" \n              imagePullPolicy: IfNotPresent\n              workingDir: /home/coder/project\n              ports:\n                - containerPort: 8080\n                  protocol: TCP\n')),(0,o.yg)("h4",{id:"volume-mounts"},"Volume Mounts"),(0,o.yg)("p",null,"Mount the volumes into the container filesystem. The ",(0,o.yg)("inlineCode",{parentName:"p"},"data")," volume is mounted at the application's workspace path."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},'              volumeMounts:\n                - name: data \n                  mountPath: "/home/coder/project" \n                - name: dshm \n                  mountPath: /dev/shm\n')),(0,o.yg)("h4",{id:"environment-variables"},"Environment Variables"),(0,o.yg)("p",null,"Define environment variables for the container. Here we inject the password from the Secret."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},'              env:\n                - name: PASSWORD\n                  valueFrom:\n                    secretKeyRef:\n                      name: "${APPLICATION_NAME}"\n                      key: application-password\n')),(0,o.yg)("h4",{id:"resource-limits"},"Resource Limits"),(0,o.yg)("p",null,"Define resource requests and limits. Requests are the minimum resources guaranteed to the container, while limits are the maximum it can use."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},'              resources:\n                requests:\n                  cpu: "200m"\n                  memory: "256Mi"\n                limits:\n                  cpu: \'32\'\n                  memory: "200Gi"\n')),(0,o.yg)("h2",{id:"the-complete-application"},"The complete application"),(0,o.yg)("details",null,(0,o.yg)("summary",null,"Click to expand full template"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},'---\nkind: Template\napiVersion: template.openshift.io/v1\nmetadata:\n  name: vscode-root\n  annotations:\n    openshift.io/display-name: VisualStudio Code server\n    description: |-\n      Start VisualStudio Code server with the coder user which has sudo permissions\n\n      \ud83d\udce6 We recommend you to use `conda install` to install new packages, but you can also use `sudo apt-get install` or `pip install`\n\n      \ud83d\udcc2 Use the /home/coder/project folder (workspace of the VSCode UI) to store your data in the existing persistent storage\n      You can find the persistent storage in the DSRI web UI, go to Administrator view > Storage > Persistent Volume Claims\n      \n      Python 3 and Java 11 already installed. You can install packages with \'apt-get\' after starting the server.\n\n      Visit https://github.com/MaastrichtU-IDS/code-server for more details and to customize the image\n    iconClass: icon-kubevirt\n    tags: visualstudio,vscode,root,persistent\n    openshift.io/provider-display-name: Institute of Data Science, UM\n    openshift.io/documentation-url: https://maastrichtu-ids.github.io/dsri-documentation/docs/deploy-vscode\n    openshift.io/support-url: https://maastrichtu-ids.github.io/dsri-documentation/help\nlabels:\n  template: vscode-root\n\nparameters:\n  - name: APPLICATION_NAME\n    displayName: Application name\n    description: Must be without spaces (use -), and unique in the project.\n    value: vscode\n    required: true\n  - name: APPLICATION_IMAGE\n    displayName: Docker image for the application\n    description: See https://github.com/MaastrichtU-IDS/code-server for more details and to customize the image\n    value: ghcr.io/maastrichtu-ids/code-server\n    required: true\n  - name: STORAGE_SIZE\n    displayName: Storage size\n    description: Size of the storage used for the notebook workspace.\n    value: 10Gi\n    required: true\n  - name: PASSWORD\n    displayName: Password\n    description: The password to access the VSCode application\n    required: true\n\nobjects:\n\n  - kind: ImageStream\n    apiVersion: image.openshift.io/v1\n    metadata:\n      name: "${APPLICATION_NAME}"\n      labels:\n        app: "${APPLICATION_NAME}"\n        template: vscode-root-dynamic\n    spec:\n      lookupPolicy:\n        local: true\n      tags:\n        - name: latest\n          from:\n            kind: DockerImage\n            name: ${APPLICATION_IMAGE}\n          importPolicy:\n            scheduled: false\n\n  - kind: PersistentVolumeClaim\n    apiVersion: v1\n    metadata:\n      name: "${APPLICATION_NAME}"\n      labels:\n        app: "${APPLICATION_NAME}"\n    spec:\n      accessModes:\n        - ReadWriteMany\n      resources:\n        requests:\n          storage: ${STORAGE_SIZE}\n      storageClassName: ocs-storagecluster-cephfs\n\n  - kind: Service\n    apiVersion: v1\n    metadata:\n      name: "${APPLICATION_NAME}"\n      labels:\n        app: "${APPLICATION_NAME}"\n    spec:\n      selector:\n        app: "${APPLICATION_NAME}" \n      ports:\n        - name: "8080-tcp"\n          protocol: TCP\n          port: 8080\n          targetPort: 8080\n\n  - kind: Route\n    apiVersion: route.openshift.io/v1\n    metadata:\n      name: "${APPLICATION_NAME}"\n      labels:\n        app: "${APPLICATION_NAME}"\n    spec:\n      to:\n        kind: Service\n        name: "${APPLICATION_NAME}"\n      port:\n        targetPort: "8080-tcp"\n      tls:\n        termination: edge\n        insecureEdgeTerminationPolicy: Redirect\n\n  - kind: Secret\n    apiVersion: v1\n    metadata:\n      name: "${APPLICATION_NAME}"\n      labels:\n        app: "${APPLICATION_NAME}"\n    stringData:\n      application-password: "${PASSWORD}" \n\n  - kind: Deployment\n    apiVersion: apps/v1\n    metadata:\n      name: "${APPLICATION_NAME}"\n      labels:\n        app: "${APPLICATION_NAME}"\n    spec:\n      replicas: 1\n      strategy:\n        type: Recreate\n      selector:\n        matchLabels:\n          app: "${APPLICATION_NAME}" \n      template:\n        metadata:\n          annotations:\n            io.kubernetes.cri-o.TrySkipVolumeSELinuxLabel: \'true\'\n          labels:\n            app: "${APPLICATION_NAME}"\n            deployment: "${APPLICATION_NAME}"\n        spec:\n          runtimeClassName: selinux\n          serviceAccountName: anyuid\n          automountServiceAccountToken: false\n          volumes:\n            - name: data \n              persistentVolumeClaim:\n                claimName: "${APPLICATION_NAME}"\n            - name: dshm \n              emptyDir:\n                medium: Memory\n          containers:\n            - name: vscode-container \n              image: "${APPLICATION_IMAGE}" \n              imagePullPolicy: IfNotPresent\n              workingDir: /home/coder/project\n              ports:\n                - containerPort: 8080\n                  protocol: TCP\n              volumeMounts:\n                - name: data \n                  mountPath: "/home/coder/project" \n                - name: dshm \n                  mountPath: /dev/shm\n              env:\n                - name: PASSWORD\n                  valueFrom:\n                    secretKeyRef:\n                      name: "${APPLICATION_NAME}"\n                      key: application-password \n              resources:\n                requests:\n                  cpu: "200m"\n                  memory: "256Mi"\n                limits:\n                  cpu: \'32\'\n                  memory: "200Gi"\n'))),(0,o.yg)("p",null,"You can add this to your project catalog via ",(0,o.yg)("strong",{parentName:"p"},"+Add")," > ",(0,o.yg)("strong",{parentName:"p"},"YAML")," in the DSRI web UI."),(0,o.yg)("h2",{id:"build-your-own-template"},"Build Your Own Template"),(0,o.yg)("p",null,"To create a template for a new application:"),(0,o.yg)("ol",null,(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Start with the backbone template")," from the repository"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Update metadata"),": Change ",(0,o.yg)("inlineCode",{parentName:"li"},"name"),", ",(0,o.yg)("inlineCode",{parentName:"li"},"display-name"),", ",(0,o.yg)("inlineCode",{parentName:"li"},"description"),", ",(0,o.yg)("inlineCode",{parentName:"li"},"iconClass"),", and ",(0,o.yg)("inlineCode",{parentName:"li"},"tags")),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Adjust port numbers"),": Replace ",(0,o.yg)("inlineCode",{parentName:"li"},"8080")," with your application's port in Service, Route, and Deployment"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Update volume mounts"),": Change ",(0,o.yg)("inlineCode",{parentName:"li"},"mountPath")," and ",(0,o.yg)("inlineCode",{parentName:"li"},"workingDir")," to match your application's workspace"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Add custom parameters"),": Include any application-specific variables"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Customize environment variables"),": Add any additional env vars your application needs"),(0,o.yg)("li",{parentName:"ol"},(0,o.yg)("strong",{parentName:"li"},"Set resource limits"),": Adjust CPU and memory based on your application's requirements")),(0,o.yg)("h3",{id:"quick-customization-checklist"},"Quick Customization Checklist"),(0,o.yg)("ul",{className:"contains-task-list"},(0,o.yg)("li",{parentName:"ul",className:"task-list-item"},(0,o.yg)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Template name and display name"),(0,o.yg)("li",{parentName:"ul",className:"task-list-item"},(0,o.yg)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Port number (containerPort, port, targetPort)"),(0,o.yg)("li",{parentName:"ul",className:"task-list-item"},(0,o.yg)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Mount path for persistent storage"),(0,o.yg)("li",{parentName:"ul",className:"task-list-item"},(0,o.yg)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Default parameter values"),(0,o.yg)("li",{parentName:"ul",className:"task-list-item"},(0,o.yg)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Application-specific environment variables"),(0,o.yg)("li",{parentName:"ul",className:"task-list-item"},(0,o.yg)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Resource requests and limits"),(0,o.yg)("li",{parentName:"ul",className:"task-list-item"},(0,o.yg)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Remove unused components (e.g., ",(0,o.yg)("inlineCode",{parentName:"li"},"dshm")," volume if not needed)")),(0,o.yg)("h2",{id:"advanced-features"},"Advanced Features"),(0,o.yg)("h3",{id:"health-checks"},"Health Checks"),(0,o.yg)("p",null,"Add probes to verify application readiness:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},"containers:\n  - name: vscode-container\n    readinessProbe: \n      tcpSocket:\n        port: 8080\n      initialDelaySeconds: 15\n      periodSeconds: 10\n    livenessProbe: \n      tcpSocket:  \n        port: 8080\n      initialDelaySeconds: 30\n      periodSeconds: 10\n      failureThreshold: 3\n")),(0,o.yg)("p",null,"See ",(0,o.yg)("a",{parentName:"p",href:"https://docs.openshift.com/container-platform/4.6/applications/application-health.html"},"OpenShift Application Health docs")," for details."),(0,o.yg)("h3",{id:"configuration-files"},"Configuration Files"),(0,o.yg)("p",null,"Use ConfigMaps to add configuration files or scripts:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},'  - kind: ConfigMap\n    apiVersion: v1\n    metadata:\n      name: "${APPLICATION_NAME}-config"\n      labels:\n        app: "${APPLICATION_NAME}"\n    data:\n      startup.sh: |\n        #!/bin/bash\n        echo "Custom startup script"\n')),(0,o.yg)("p",null,"Mount in deployment:"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-yaml"},'volumeMounts:\n  - name: config\n    mountPath: "/etc/config"\nvolumes:\n  - name: config\n    configMap:\n      name: "${APPLICATION_NAME}-config"\n')))}d.isMDXComponent=!0}}]);